{"remainingRequest":"/Users/francescamorini/projects/power-sector/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/francescamorini/projects/power-sector/src/components/SecondaryEnergy.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/francescamorini/projects/power-sector/src/components/SecondaryEnergy.vue","mtime":1586356615827},{"path":"/Users/francescamorini/projects/power-sector/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/francescamorini/projects/power-sector/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/francescamorini/projects/power-sector/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/francescamorini/projects/power-sector/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTZWNvbmRhcnlFbmVyZ3kgZnJvbSAnZHN2LWxvYWRlciFAL2Fzc2V0cy9kYXRhL1NlY29uZGFyeUVuZXJneS5jc3YnIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgaW1wb3J0L25vLXdlYnBhY2stbG9hZGVyLXN5bnRheAppbXBvcnQgXyBmcm9tICdsb2Rhc2gnCmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdSaXNrUGF0aHdheScsCiAgcHJvcHM6IHsKICAgIHdpZHRoOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMAogICAgfSwKICAgIGhlaWdodDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDAKICAgIH0KICB9LAogIC8vIFVzaW5nIFZVRSB0byBkZWNsYXJlIGRhdGEgYW5kIGxvYWQgdGhlbSBpbiB0aGUgY29tcG9uZW50CiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBTZWNvbmRhcnlFbmVyZ3ksCiAgICAgIGVuZXJneTogXy5ncm91cEJ5KFNlY29uZGFyeUVuZXJneSwgZCA9PiBkLlZhcmlhYmxlKSwKICAgICAgbGFiZWxzOiBbLi4ubmV3IFNldChTZWNvbmRhcnlFbmVyZ3kubWFwKHIgPT4gci5WYXJpYWJsZSkpXSwKICAgICAgY3VycmVudFNjZW5hcmlvOiAnTlBpMjAyMF8xMDAwX3YzJywKICAgICAgY3VycmVudFJlZ2lvbjogJ1dvcmxkJywKICAgICAgbWFyZ2luOiB7CiAgICAgICAgdG9wOiAxMCwKICAgICAgICBib3R0b206IDEwLAogICAgICAgIHJpZ2h0OiAxMCwKICAgICAgICBsZWZ0OiAxMAogICAgICB9LAogICAgICBpbm5lckhlaWdodDogMAogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlubmVyV2lkdGggKCkgewogICAgICByZXR1cm4gdGhpcy53aWR0aCAtICh0aGlzLm1hcmdpbi5sZWZ0ICsgdGhpcy5tYXJnaW4ucmlnaHQpCiAgICB9LAogICAgc2NlbmFyaW9GaWx0ZXIgKCkgeyByZXR1cm4gXy5tYXAodGhpcy5lbmVyZ3ksIChzYywgcykgPT4gXy5maWx0ZXIoc2MsIGQgPT4gZC5TY2VuYXJpbyA9PT0gdGhpcy5jdXJyZW50U2NlbmFyaW8pKSB9LAogICAgcmVnaW9uRmlsdGVyICgpIHsgcmV0dXJuIF8ubWFwKHRoaXMuc2NlbmFyaW9GaWx0ZXIsIChyZSwgcikgPT4gXy5maWx0ZXIocmUsIGQgPT4gZC5SZWdpb24gPT09IHRoaXMuY3VycmVudFJlZ2lvbikpIH0sCiAgICBzY2FsZSAoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgeDogZDMuc2NhbGVMaW5lYXIoKQogICAgICAgICAgLnJhbmdlKFswLCA4MDBdKQogICAgICAgICAgLmRvbWFpbihbMjAyMCwgMjEwMF0pCiAgICAgIH0KICAgIH0sCiAgICBkb3RzICgpIHsKICAgICAgcmV0dXJuIF8ubWFwKHRoaXMucmVnaW9uRmlsdGVyLCAoZW5lcmd5LCBlKSA9PiB7CiAgICAgICAgcmV0dXJuIF8ubWFwKGVuZXJneSwgKHNpbmdsZSwgcykgPT4gewogICAgICAgICAgY29uc29sZS5sb2codGhpcy5zY2FsZS54KHNpbmdsZS5ZZWFyKSwgc2luZ2xlLlZhbHVlKQogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgeWVhcjogdGhpcy5zY2FsZS54KHNpbmdsZS5ZZWFyKSwKICAgICAgICAgICAgdmFsdWU6IHNpbmdsZS5WYWx1ZQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0pCiAgICB9LAogICAgbG9nU29tZSAoKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKCdkb3RzJywgdGhpcy5kb3RzKQogICAgICAvLyBjb25zb2xlLmxvZygnZ3JvdXBlZCcsIHRoaXMuZW5lcmd5KQogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLlNlY29uZGFyeUVuZXJneSkKICAgICAgcmV0dXJuIDAKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGNhbGNTaXplcyAoKSB7CiAgICAgIGNvbnN0IHsgaW5XcmFwcGVyOiBlbCB9ID0gdGhpcy4kcmVmcwogICAgICBjb25zdCBpbm5lckhlaWdodCA9IGVsLmNsaWVudEhlaWdodCB8fCBlbC5wYXJlbnROb2RlLmNsaWVudEhlaWdodAogICAgICB0aGlzLmlubmVySGVpZ2h0ID0gTWF0aC5tYXgoaW5uZXJIZWlnaHQsIDUwMCkKICAgIH0KICB9LAogIG1vdW50ZWQgKCkgewogICAgdGhpcy5jYWxjU2l6ZXMoKQogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuY2FsY1NpemVzLCBmYWxzZSkKICB9LAogIHVwZGF0ZWQgKCkgewogICAgdGhpcy5jYWxjU2l6ZXMoKQogIH0sCiAgYmVmb3JlRGVzdHJveSAoKSB7CiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5jYWxjU2l6ZXMsIGZhbHNlKQogIH0KfQo="},{"version":3,"sources":["SecondaryEnergy.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SecondaryEnergy.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"secondary-energy\" ref=\"inWrapper\">\n    <div class=\"key\" :data='logSome'>\n      Legend or selectors if any\n    </div>\n    <div></div>\n    <svg :width=\"innerWidth\" :height=\"innerHeight\" :transform=\"`translate(${margin.left}, 0)`\">\n      <g v-for=\"(group, g) in dots\" v-bind:key=\"g + 'group'\" :class=\"labels[g]\">\n        <circle v-for=\"(dot, d) in group\" v-bind:key=\"d + 'dot'\" :class=\"labels[g]\" :cx=\"dot.year\" cy=\"150\" :r=\"dot.value\"/>\n      </g>\n    </svg>\n  </div>\n</template>\n\n<script>\nimport SecondaryEnergy from 'dsv-loader!@/assets/data/SecondaryEnergy.csv' // eslint-disable-line import/no-webpack-loader-syntax\nimport _ from 'lodash'\nimport * as d3 from 'd3'\n\nexport default {\n  name: 'RiskPathway',\n  props: {\n    width: {\n      type: Number,\n      default: 0\n    },\n    height: {\n      type: Number,\n      default: 0\n    }\n  },\n  // Using VUE to declare data and load them in the component\n  data () {\n    return {\n      SecondaryEnergy,\n      energy: _.groupBy(SecondaryEnergy, d => d.Variable),\n      labels: [...new Set(SecondaryEnergy.map(r => r.Variable))],\n      currentScenario: 'NPi2020_1000_v3',\n      currentRegion: 'World',\n      margin: {\n        top: 10,\n        bottom: 10,\n        right: 10,\n        left: 10\n      },\n      innerHeight: 0\n    }\n  },\n  computed: {\n    innerWidth () {\n      return this.width - (this.margin.left + this.margin.right)\n    },\n    scenarioFilter () { return _.map(this.energy, (sc, s) => _.filter(sc, d => d.Scenario === this.currentScenario)) },\n    regionFilter () { return _.map(this.scenarioFilter, (re, r) => _.filter(re, d => d.Region === this.currentRegion)) },\n    scale () {\n      return {\n        x: d3.scaleLinear()\n          .range([0, 800])\n          .domain([2020, 2100])\n      }\n    },\n    dots () {\n      return _.map(this.regionFilter, (energy, e) => {\n        return _.map(energy, (single, s) => {\n          console.log(this.scale.x(single.Year), single.Value)\n          return {\n            year: this.scale.x(single.Year),\n            value: single.Value\n          }\n        })\n      })\n    },\n    logSome () {\n      // console.log('dots', this.dots)\n      // console.log('grouped', this.energy)\n      // console.log(this.SecondaryEnergy)\n      return 0\n    }\n  },\n  methods: {\n    calcSizes () {\n      const { inWrapper: el } = this.$refs\n      const innerHeight = el.clientHeight || el.parentNode.clientHeight\n      this.innerHeight = Math.max(innerHeight, 500)\n    }\n  },\n  mounted () {\n    this.calcSizes()\n    window.addEventListener('resize', this.calcSizes, false)\n  },\n  updated () {\n    this.calcSizes()\n  },\n  beforeDestroy () {\n    window.removeEventListener('resize', this.calcSizes, false)\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"scss\">\n@import \"library/src/style/variables.scss\";\n\n.secondary-energy {\n  height: 85vh;\n\n  .key {\n    width: 90%;\n    height: 100px;\n    margin: 0 auto;\n    padding: 0 20px;\n    border-bottom:0.5px solid blue;\n  }\n\n  svg {\n    background-color: lightblue;\n\n    circle {\n      fill: none;\n      stroke: red;\n    }\n    .Coal {\n      fill: grey;\n      stroke: red;\n    }\n  }\n}\n\n</style>\n"]}]}
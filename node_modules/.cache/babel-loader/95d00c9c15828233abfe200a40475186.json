{"remainingRequest":"/Users/francescamorini/projects/power-sector/node_modules/babel-loader/lib/index.js!/Users/francescamorini/projects/power-sector/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/francescamorini/projects/power-sector/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/francescamorini/projects/power-sector/src/components/SecondaryEnergy.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/francescamorini/projects/power-sector/src/components/SecondaryEnergy.vue","mtime":1586356615827},{"path":"/Users/francescamorini/projects/power-sector/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/francescamorini/projects/power-sector/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/francescamorini/projects/power-sector/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/francescamorini/projects/power-sector/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnNldCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIi9Vc2Vycy9mcmFuY2VzY2Ftb3JpbmkvcHJvamVjdHMvcG93ZXItc2VjdG9yL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBTZWNvbmRhcnlFbmVyZ3kgZnJvbSAnZHN2LWxvYWRlciFAL2Fzc2V0cy9kYXRhL1NlY29uZGFyeUVuZXJneS5jc3YnOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGltcG9ydC9uby13ZWJwYWNrLWxvYWRlci1zeW50YXgKCmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7CmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdSaXNrUGF0aHdheScsCiAgcHJvcHM6IHsKICAgIHdpZHRoOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMAogICAgfSwKICAgIGhlaWdodDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDAKICAgIH0KICB9LAogIC8vIFVzaW5nIFZVRSB0byBkZWNsYXJlIGRhdGEgYW5kIGxvYWQgdGhlbSBpbiB0aGUgY29tcG9uZW50CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIFNlY29uZGFyeUVuZXJneTogU2Vjb25kYXJ5RW5lcmd5LAogICAgICBlbmVyZ3k6IF8uZ3JvdXBCeShTZWNvbmRhcnlFbmVyZ3ksIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIGQuVmFyaWFibGU7CiAgICAgIH0pLAogICAgICBsYWJlbHM6IF90b0NvbnN1bWFibGVBcnJheShuZXcgU2V0KFNlY29uZGFyeUVuZXJneS5tYXAoZnVuY3Rpb24gKHIpIHsKICAgICAgICByZXR1cm4gci5WYXJpYWJsZTsKICAgICAgfSkpKSwKICAgICAgY3VycmVudFNjZW5hcmlvOiAnTlBpMjAyMF8xMDAwX3YzJywKICAgICAgY3VycmVudFJlZ2lvbjogJ1dvcmxkJywKICAgICAgbWFyZ2luOiB7CiAgICAgICAgdG9wOiAxMCwKICAgICAgICBib3R0b206IDEwLAogICAgICAgIHJpZ2h0OiAxMCwKICAgICAgICBsZWZ0OiAxMAogICAgICB9LAogICAgICBpbm5lckhlaWdodDogMAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBpbm5lcldpZHRoOiBmdW5jdGlvbiBpbm5lcldpZHRoKCkgewogICAgICByZXR1cm4gdGhpcy53aWR0aCAtICh0aGlzLm1hcmdpbi5sZWZ0ICsgdGhpcy5tYXJnaW4ucmlnaHQpOwogICAgfSwKICAgIHNjZW5hcmlvRmlsdGVyOiBmdW5jdGlvbiBzY2VuYXJpb0ZpbHRlcigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfLm1hcCh0aGlzLmVuZXJneSwgZnVuY3Rpb24gKHNjLCBzKSB7CiAgICAgICAgcmV0dXJuIF8uZmlsdGVyKHNjLCBmdW5jdGlvbiAoZCkgewogICAgICAgICAgcmV0dXJuIGQuU2NlbmFyaW8gPT09IF90aGlzLmN1cnJlbnRTY2VuYXJpbzsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgcmVnaW9uRmlsdGVyOiBmdW5jdGlvbiByZWdpb25GaWx0ZXIoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF8ubWFwKHRoaXMuc2NlbmFyaW9GaWx0ZXIsIGZ1bmN0aW9uIChyZSwgcikgewogICAgICAgIHJldHVybiBfLmZpbHRlcihyZSwgZnVuY3Rpb24gKGQpIHsKICAgICAgICAgIHJldHVybiBkLlJlZ2lvbiA9PT0gX3RoaXMyLmN1cnJlbnRSZWdpb247CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIHNjYWxlOiBmdW5jdGlvbiBzY2FsZSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICB4OiBkMy5zY2FsZUxpbmVhcigpLnJhbmdlKFswLCA4MDBdKS5kb21haW4oWzIwMjAsIDIxMDBdKQogICAgICB9OwogICAgfSwKICAgIGRvdHM6IGZ1bmN0aW9uIGRvdHMoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF8ubWFwKHRoaXMucmVnaW9uRmlsdGVyLCBmdW5jdGlvbiAoZW5lcmd5LCBlKSB7CiAgICAgICAgcmV0dXJuIF8ubWFwKGVuZXJneSwgZnVuY3Rpb24gKHNpbmdsZSwgcykgewogICAgICAgICAgY29uc29sZS5sb2coX3RoaXMzLnNjYWxlLngoc2luZ2xlLlllYXIpLCBzaW5nbGUuVmFsdWUpOwogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgeWVhcjogX3RoaXMzLnNjYWxlLngoc2luZ2xlLlllYXIpLAogICAgICAgICAgICB2YWx1ZTogc2luZ2xlLlZhbHVlCiAgICAgICAgICB9OwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBsb2dTb21lOiBmdW5jdGlvbiBsb2dTb21lKCkgewogICAgICAvLyBjb25zb2xlLmxvZygnZG90cycsIHRoaXMuZG90cykKICAgICAgLy8gY29uc29sZS5sb2coJ2dyb3VwZWQnLCB0aGlzLmVuZXJneSkKICAgICAgLy8gY29uc29sZS5sb2codGhpcy5TZWNvbmRhcnlFbmVyZ3kpCiAgICAgIHJldHVybiAwOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgY2FsY1NpemVzOiBmdW5jdGlvbiBjYWxjU2l6ZXMoKSB7CiAgICAgIHZhciBlbCA9IHRoaXMuJHJlZnMuaW5XcmFwcGVyOwogICAgICB2YXIgaW5uZXJIZWlnaHQgPSBlbC5jbGllbnRIZWlnaHQgfHwgZWwucGFyZW50Tm9kZS5jbGllbnRIZWlnaHQ7CiAgICAgIHRoaXMuaW5uZXJIZWlnaHQgPSBNYXRoLm1heChpbm5lckhlaWdodCwgNTAwKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmNhbGNTaXplcygpOwogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuY2FsY1NpemVzLCBmYWxzZSk7CiAgfSwKICB1cGRhdGVkOiBmdW5jdGlvbiB1cGRhdGVkKCkgewogICAgdGhpcy5jYWxjU2l6ZXMoKTsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5jYWxjU2l6ZXMsIGZhbHNlKTsKICB9Cn07"},{"version":3,"sources":["SecondaryEnergy.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"secondary-energy\" ref=\"inWrapper\">\n    <div class=\"key\" :data='logSome'>\n      Legend or selectors if any\n    </div>\n    <div></div>\n    <svg :width=\"innerWidth\" :height=\"innerHeight\" :transform=\"`translate(${margin.left}, 0)`\">\n      <g v-for=\"(group, g) in dots\" v-bind:key=\"g + 'group'\" :class=\"labels[g]\">\n        <circle v-for=\"(dot, d) in group\" v-bind:key=\"d + 'dot'\" :class=\"labels[g]\" :cx=\"dot.year\" cy=\"150\" :r=\"dot.value\"/>\n      </g>\n    </svg>\n  </div>\n</template>\n\n<script>\nimport SecondaryEnergy from 'dsv-loader!@/assets/data/SecondaryEnergy.csv' // eslint-disable-line import/no-webpack-loader-syntax\nimport _ from 'lodash'\nimport * as d3 from 'd3'\n\nexport default {\n  name: 'RiskPathway',\n  props: {\n    width: {\n      type: Number,\n      default: 0\n    },\n    height: {\n      type: Number,\n      default: 0\n    }\n  },\n  // Using VUE to declare data and load them in the component\n  data () {\n    return {\n      SecondaryEnergy,\n      energy: _.groupBy(SecondaryEnergy, d => d.Variable),\n      labels: [...new Set(SecondaryEnergy.map(r => r.Variable))],\n      currentScenario: 'NPi2020_1000_v3',\n      currentRegion: 'World',\n      margin: {\n        top: 10,\n        bottom: 10,\n        right: 10,\n        left: 10\n      },\n      innerHeight: 0\n    }\n  },\n  computed: {\n    innerWidth () {\n      return this.width - (this.margin.left + this.margin.right)\n    },\n    scenarioFilter () { return _.map(this.energy, (sc, s) => _.filter(sc, d => d.Scenario === this.currentScenario)) },\n    regionFilter () { return _.map(this.scenarioFilter, (re, r) => _.filter(re, d => d.Region === this.currentRegion)) },\n    scale () {\n      return {\n        x: d3.scaleLinear()\n          .range([0, 800])\n          .domain([2020, 2100])\n      }\n    },\n    dots () {\n      return _.map(this.regionFilter, (energy, e) => {\n        return _.map(energy, (single, s) => {\n          console.log(this.scale.x(single.Year), single.Value)\n          return {\n            year: this.scale.x(single.Year),\n            value: single.Value\n          }\n        })\n      })\n    },\n    logSome () {\n      // console.log('dots', this.dots)\n      // console.log('grouped', this.energy)\n      // console.log(this.SecondaryEnergy)\n      return 0\n    }\n  },\n  methods: {\n    calcSizes () {\n      const { inWrapper: el } = this.$refs\n      const innerHeight = el.clientHeight || el.parentNode.clientHeight\n      this.innerHeight = Math.max(innerHeight, 500)\n    }\n  },\n  mounted () {\n    this.calcSizes()\n    window.addEventListener('resize', this.calcSizes, false)\n  },\n  updated () {\n    this.calcSizes()\n  },\n  beforeDestroy () {\n    window.removeEventListener('resize', this.calcSizes, false)\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"scss\">\n@import \"library/src/style/variables.scss\";\n\n.secondary-energy {\n  height: 85vh;\n\n  .key {\n    width: 90%;\n    height: 100px;\n    margin: 0 auto;\n    padding: 0 20px;\n    border-bottom:0.5px solid blue;\n  }\n\n  svg {\n    background-color: lightblue;\n\n    circle {\n      fill: none;\n      stroke: red;\n    }\n    .Coal {\n      fill: grey;\n      stroke: red;\n    }\n  }\n}\n\n</style>\n"],"sourceRoot":"src/components"}]}